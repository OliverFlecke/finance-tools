(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{928:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(447),a=n(7294),l=n(6535),c=n(7384),u=n(2370),s=n(7536);function m(){return(m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}let o=({add:e})=>{let{register:t,handleSubmit:n}=(0,s.cI)();return a.createElement("tbody",null,a.createElement("tr",null,a.createElement("td",{colSpan:3},a.createElement("form",{onSubmit:n(e),className:"flex flex-wrap justify-end space-x-2 pb-4 pt-2"},a.createElement("input",m({placeholder:"Category",className:"budget"},t("category",{required:!0}))),a.createElement("input",m({placeholder:"Name",className:"budget"},t("name",{required:!0}))),a.createElement("input",m({placeholder:"Amount",className:"budget",onKeyPress(e){if(!/\d|\./.test(e.key)){e.preventDefault();return}}},t("amount",{required:!0,valueAsNumber:!0}))),a.createElement("button",{type:"submit",className:"btn btn-primary flex items-center space-x-2 align-middle"},a.createElement("span",null,"Add"),a.createElement(u.RWZ,null))))))};var i=n(515);let d=({value:e})=>a.createElement(a.Fragment,null,a.createElement("td",{className:"currency"},(0,i.xG)(e,f)),a.createElement("td",{className:"currency"},(0,i.xG)(12*e,f))),E=({title:e,data:t,total:n})=>a.createElement("tbody",null,a.createElement("tr",null,a.createElement("th",{className:"text-left"},e)),t.map(e=>a.createElement("tr",{key:e.name,className:"px-8 odd:bg-slate-700"},a.createElement("td",null,e.name),a.createElement(d,{value:e.amount}))),a.createElement("tr",null,a.createElement("th",null,"Total"),a.createElement("th",{className:"currency"},(0,i.xG)(n,f)),a.createElement("th",{className:"currency"},(0,i.xG)(12*n,f))));var p=n(2308);function g(e,t){switch(t.type){case"ADD INCOME":return Promise.resolve({...e,income:e.income.concat(t.line)});case"ADD EXPENSE":return Promise.resolve({...e,expenses:e.expenses.concat(t.line)});default:return Promise.resolve(e)}}let f="GBP",b=()=>{let[e,t]=function(e,t,n){let[r,l]=(0,a.useState)({...t,loading:!1,error:null}),c=(0,a.useCallback)(e=>{n&&localStorage.setItem(n,JSON.stringify(e)),l(e)},[n]),u=async t=>{let n=e(r,t);n instanceof Promise?(l({...r,loading:!0,error:null}),n.then(e=>c({...e,loading:!1,error:null})).catch(e=>l({...r,loading:!1,error:e}))):c({...n,loading:!1,error:null})};return[r,u]}(g,(0,c.v)("budget",{income:[],expenses:[]}),"budget"),[n,r]=(0,a.useState)(0),{total:u,totalIncome:s,totalExpenses:m,savings:i,remaining:f}=function(e,{savePercent:t}){let n=(0,a.useMemo)(()=>(0,p.S)(...e.income.map(e=>e.amount)),[e.income]),r=(0,a.useMemo)(()=>(0,p.S)(...e.expenses.map(e=>e.amount)),[e.expenses]),l=(0,a.useMemo)(()=>n-r,[n,r]),c=n*(t/100);return{total:l,totalIncome:n,totalExpenses:r,savings:c,remaining:l-c}}(e,{savePercent:n});return a.createElement(a.Fragment,null,a.createElement("h2",{className:"page-header"},"Budget"),a.createElement("div",{className:"mx-4"},a.createElement("h3",{className:"pt-4 text-xl"},"Configuration"),a.createElement("label",{htmlFor:"desired-savings"},"Desired savings"),a.createElement("span",{className:"mx-4 rounded bg-gray-800 py-1 px-2 focus-within:ring-2"},a.createElement("input",{className:"w-12 bg-transparent pr-2 text-right outline-none",placeholder:"15",name:"desired-savings",type:"number",min:"0",max:"100",onKeyDown(e){if(!/[0-9\.,\b]/.test(e.key)&&"Backspace"!==e.key&&"Delete"!==e.key){e.preventDefault();return}},onChange:e=>r(Number.parseFloat(e.currentTarget.value))}),"%")),a.createElement(l.Z,null,a.createElement("div",{className:"mx-4 pb-8"},a.createElement("table",{className:"w-full border-separate border-spacing-0 overflow-hidden rounded"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null),a.createElement("th",null,"Per month"),a.createElement("th",null,"Per year"))),a.createElement(E,{title:"Income",data:e.income,total:s}),a.createElement(o,{add:e=>t({type:"ADD INCOME",line:e})}),a.createElement(E,{title:"Expenses",data:e.expenses,total:m}),a.createElement(o,{add:e=>t({type:"ADD EXPENSE",line:e})}),a.createElement("tfoot",null,a.createElement("tr",{className:"bg-green-400 dark:bg-green-700"},a.createElement("th",null,"After monthley expenses"),a.createElement(d,{value:u})),a.createElement("tr",null,a.createElement("td",null,"Savings"),a.createElement(d,{value:i})),a.createElement("tr",{className:"bg-green-400 dark:bg-green-700"},a.createElement("th",null,"Remaining"),a.createElement(d,{value:f})))))))},y=()=>a.createElement(a.Fragment,null,a.createElement(r.Z,{title:"Budget"}),a.createElement(b,null));var N=y},447:function(e,t,n){"use strict";var r=n(9008),a=n.n(r),l=n(7294);let c=({title:e})=>{let t=`${e} | Finance`;return l.createElement(a(),null,l.createElement("title",null,t))};t.Z=c},515:function(e,t,n){"use strict";n.d(t,{CV:function(){return m},fK:function(){return c},p3:function(){return a},sL:function(){return s},xG:function(){return l}});var r=n(7294);function a(e){return Number.parseFloat(e.toString().replace(/[,a-zA-Z]/g,""))}function l(e,t){if(!e||Number.isNaN(e))return"0";let n=t=>e.toLocaleString("en-US",{style:"currency",currency:t,currencyDisplay:"symbol"});try{return n(t??"USD")}catch(r){if(r instanceof RangeError&&r.message.startsWith("Invalid currency code")&&t)return n("USD").replace("USD",t);return e.toString()}}function c(e,t,n,r){return e*u(t,n,r)}function u(e,t,n){let r=t?.toLowerCase(),a=n?.toLowerCase();return r&&a&&r!==a?"usd"===r?"GBp"===n?100*e.gbp:a in e?e[a]:1:"usd"!==a?u(e,t,"usd")*u(e,"usd",n):"GBp"===t?1/(100*e.gbp):r in e?1/e[r]:1:1}function s(e,t,n){return(0,r.useCallback)(r=>r*u(n,e,t),[e,n,t])}function m(e){return Object.keys(e).sort().reduce((t,n)=>(t[n]=e[n],t),{})}Intl.NumberFormat(void 0,{style:"currency",currency:"DKK",currencyDisplay:"code"})},2308:function(e,t,n){"use strict";function r(...e){return e.reduce((e,t)=>e+t,0)}n.d(t,{S:function(){return r}})},9142:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/budget",function(){return n(928)}])}},function(e){e.O(0,[536,888,774,179],function(){return e(e.s=9142)}),_N_E=e.O()}]);