(this["webpackJsonpfinance-tools"]=this["webpackJsonpfinance-tools"]||[]).push([[0],{19:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(12),a=n(5),l=n(3),i=(n(19),n(6)),o=n(10),d=n(1),j=function(e){var t=e.addAccount,n=Object(c.useState)(!1),r=Object(a.a)(n,2),s=r[0],j=r[1],u=Object(o.a)(),b=u.register,m=u.handleSubmit,x=u.formState.errors,h=Object(c.useCallback)((function(){return j(!1)}),[j]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(l.a,{onClick:function(){return j((function(e){return!e}))},children:"Add account"}),Object(d.jsx)(l.d,{isOpen:s,onDismiss:h,children:Object(d.jsxs)("form",{onSubmit:m((function(e){console.log("Adding account: ".concat(e)),t(e),h()})),children:[Object(d.jsxs)("div",{className:"p-4",children:[Object(d.jsx)("h2",{className:"text-lg text-gray-700 dark:text-gray-400",children:"Add new account"}),Object(d.jsxs)("fieldset",{className:"space-y-2",children:[Object(d.jsx)(l.c,Object(i.a)(Object(i.a)({placeholder:"Savings, Investments...",label:"Name"},b("name",{required:!0})),{},{errorMessage:x.name&&"Please provide a name for your account"})),Object(d.jsx)(l.c,Object(i.a)(Object(i.a)({placeholder:"Cash, Investment...",label:"Type"},b("type",{required:!0})),{},{errorMessage:x.type&&"Please choose cash or investment"}))]})]}),Object(d.jsxs)(l.b,{children:[Object(d.jsx)(l.a,{buttonType:"Transparent",onClick:h,children:"Cancel"}),Object(d.jsx)(l.a,{type:"submit",children:"Add"})]})]})})]})},u=n(4),b=n(14),m=n(13);function x(e,t,n,c){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,s=h(n,1,r),a=r*c;return e*Math.pow(1+s,a)+t*((Math.pow(1+s,a)-1)/s)}function h(e,t,n){return Math.pow(1+e/t,t/n)-1}var O=function(e){var t,n,r;Object(b.a)(e);var s=Object(c.useState)(null),j=Object(a.a)(s,2),u=j[0],x=j[1],h=Object(o.a)({}),O=h.register,g=h.handleSubmit,f=h.formState.errors,v=g((function(e){return x(e)}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{onSubmit:v,className:"w-full flex flex-col items-center justify-center",children:[Object(d.jsxs)("fieldset",{className:"flex flex-col items-center space-y-6 sm:space-y-0 sm:grid sm:grid-cols-3 sm:gap-6",children:[Object(d.jsx)(m.a,Object(i.a)({customInput:l.c,thousandSeparator:!0,label:"Existing amount",placeholder:"20,000",inputMode:"numeric",errorMessage:null===(t=f.existingAmount)||void 0===t?void 0:t.message},O("existingAmount",{required:!0}))),Object(d.jsx)(l.c,Object(i.a)({label:"Expected yearly growth",placeholder:"7",errorMessage:f.interestRate&&"Please provide a valid value"},O("interestRate",{required:!0}))),Object(d.jsx)(l.c,Object(i.a)({label:"Investment period",placeholder:"10",errorMessage:f.investmentPeriod&&"Please provide a number of years you are investing"},O("investmentPeriod",{required:!0}))),Object(d.jsx)(l.c,Object(i.a)({label:"Interval of interest accrual",placeholder:"Yearly",errorMessage:null===(n=f.interestAccural)||void 0===n?void 0:n.message},O("interestAccural",{required:!0}))),Object(d.jsx)(m.a,Object(i.a)({customInput:l.c,thousandSeparator:!0,label:"Monthly deposit",placeholder:"10,000",inputMode:"numeric",errorMessage:null===(r=f.monthlyDeposit)||void 0===r?void 0:r.message},O("monthlyDeposit",{required:!0})))]}),Object(d.jsx)("div",{className:"w-full pt-4 flex justify-center",children:Object(d.jsx)(l.a,{type:"submit",children:"Calculate"})})]}),u&&Object(d.jsx)(p,{existingAmount:y(u.existingAmount),interestRate:y(u.interestRate),investmentPeriod:y(u.investmentPeriod),monthlyDeposit:y(u.monthlyDeposit),interestAccural:u.interestAccural})]})},g=Intl.NumberFormat("en-US",{style:"currency",currency:"DKK"}),p=function(e){var t=Object(c.useMemo)((function(){return e.interestRate/100}),[e.interestRate]),n=Object(c.useMemo)((function(){return 0!==e.monthlyDeposit}),[e.monthlyDeposit]),r=x(e.existingAmount,e.monthlyDeposit,t,e.investmentPeriod),s=12*e.monthlyDeposit*e.investmentPeriod+e.existingAmount,a=r-s;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"w-full flex flex-col items-center",children:Object(d.jsxs)("div",{className:"max-w-2xl w-full grid grid-cols-1 gap-y-4 gap-x-8 md:grid-cols-2 justify-center p-8",children:[Object(d.jsx)(f,{amount:r,label:"Balance after ".concat(e.investmentPeriod," years"),color:"bg-blue-900 dark:bg-blue-300"}),Object(d.jsx)(f,{amount:e.existingAmount,label:"Initial amount",color:"bg-green-900 dark:bg-green-300"}),Object(d.jsx)(f,{amount:s,label:"Total deposits",color:"bg-indigo-900 dark:bg-indigo-300"}),Object(d.jsx)(f,{amount:a,label:"Gain from interest",color:"bg-yellow-900 dark:bg-yellow-300"})]})}),Object(d.jsx)("div",{className:"overflow-x-scroll -mx-4 lg:overflow-x-auto lg:w-full lg:m-0",children:Object(d.jsxs)("table",{className:"w-full",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{className:"text-right",children:[Object(d.jsx)("th",{className:"text-center",children:"Year"}),n&&Object(d.jsx)("th",{children:"Deposit"}),Object(d.jsx)("th",{className:"text-green-800 dark:text-green-400",children:"Interest"}),n&&Object(d.jsx)("th",{children:"Total deposits"}),Object(d.jsx)("th",{className:"text-purple-800 dark:text-purple-400",children:"Total interest"}),Object(d.jsx)("th",{className:"text-red-800 dark:text-red-400",children:"Balance"})]})}),Object(d.jsx)("tbody",{className:"text-right font-mono",children:Object(u.a)(Array(e.investmentPeriod+1).keys()).map((function(c){var r=0===c?e.existingAmount:12*e.monthlyDeposit,s=12*c*e.monthlyDeposit+e.existingAmount,a=x(e.existingAmount,e.monthlyDeposit,t,c),l=c-1,i=12*l*e.monthlyDeposit+e.existingAmount,o=x(e.existingAmount,e.monthlyDeposit,t,l),j=a-s,u=0===c?0:j-(o-i);return Object(d.jsxs)("tr",{className:"odd:bg-warmGray-200 dark:odd:bg-warmGray-900",children:[Object(d.jsx)("td",{className:"text-center",children:c}),n&&Object(d.jsx)("td",{children:g.format(r)}),Object(d.jsx)("td",{children:g.format(u)}),n&&Object(d.jsx)("td",{children:g.format(s)}),Object(d.jsx)("td",{children:g.format(j)}),Object(d.jsx)("td",{children:g.format(a)})]},c)}))})]})})]})},f=function(e){var t=e.amount,n=e.label,c=e.color;return Object(d.jsxs)("div",{className:"flex space-x-4",children:[Object(d.jsx)("div",{className:"w-6 h-6 rounded-full ".concat(c)}),Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"text-black dark:text-warmGray-300",children:n}),Object(d.jsx)("div",{className:"text-black dark:text-white text-2xl",children:g.format(t)})]})]})};function y(e){return Number.parseFloat(e.toString().replace(/,/g,""))}var v=function(e){var t=e.account,n=e.entry,r=Object(c.useRef)(null),s=Object(c.useCallback)((function(e){var c=Number.parseFloat(e.currentTarget.innerText);console.log("Amount: ".concat(c)),NaN!==c&&(n[t.name]=c)}),[n,t]);return Object(d.jsx)("td",{contentEditable:!0,ref:r,onInput:s,className:"px-2 text-right",children:n[t.name]},t.name)},N=function(e){var t=e.accounts,n=e.entries;return console.log(t),Object(d.jsxs)("table",{className:"w-full",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Date"}),t.map((function(e){return Object(d.jsx)("th",{children:Object(d.jsx)("span",{children:e.name})},e.name)}))]})}),Object(d.jsx)("tbody",{className:"",children:Object.keys(n).map((function(e){return Object(d.jsxs)("tr",{className:"odd:bg-gray-300 dark:odd:bg-gray-900",children:[Object(d.jsx)("td",{children:e}),t.map((function(t){return Object(d.jsx)(v,{account:t,entry:n[e]},t.name)}))]},e)}))})]})};function k(e,t){var n=function(e,t){switch(t.type){case"add account":return Object(i.a)(Object(i.a)({},e),{},{accounts:e.accounts.concat(t.account)});case"add entry":return e.entries["2021-05-16"]={},Object(i.a)({},e);default:return console.warn("action type not handled: ".concat(JSON.stringify(t))),e}}(e,t);return localStorage.setItem("accounts",JSON.stringify(n.accounts)),localStorage.setItem("entries",JSON.stringify(n.entries)),n}function w(e){var t,n=null!==(t=localStorage.getItem(e))&&void 0!==t?t:"";return void 0===n||""===n?[]:JSON.parse(n)}var A=function(){var e=Object(l.e)(),t=e.isDarkMode,n=e.setDarkMode;return Object(c.useEffect)((function(){t?document.body.classList.contains("dark")||document.body.classList.add("dark"):document.body.classList.remove("dark")}),[t]),Object(d.jsxs)("main",{className:"h-screen bg-white dark:bg-warmGray-900 text-gray-900 dark:text-gray-200",children:[Object(d.jsxs)("header",{className:"p-2 flex flex-row justify-between text-gray-300 bg-emerald-900 ",children:[Object(d.jsx)("h1",{className:"p-4 text-xl uppercase font-sans font-light",children:"Finance tracker"}),Object(d.jsx)(l.a,{onClick:function(){return n(!t)},children:"Dark"})]}),Object(d.jsx)("section",{className:"p-4",children:Object(d.jsx)(S,{})}),Object(d.jsxs)("section",{className:"p-4 dark:bg-warmGray-700",children:[Object(d.jsx)("h2",{className:"text-xl py-4 text-center lg:text-left",children:"Compound interest calculator"}),Object(d.jsx)(O,{})]})]})},S=Object(c.memo)((function(){var e=Object(c.useReducer)(k,{accounts:w("accounts"),entries:w("entries")}),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(N,{accounts:n.accounts,entries:n.entries}),Object(d.jsxs)("div",{className:"py-4 flex flex-row justify-between",children:[Object(d.jsx)(j,{addAccount:function(e){return r({type:"add account",account:e})}}),Object(d.jsx)(l.a,{buttonType:"Primary",onClick:function(){return r({type:"add entry"})},children:"Add entry"})]})]})}));S.displayName="AccountOverview";var D=document.getElementById("root"),M=Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(A,{})});(null===D||void 0===D?void 0:D.hasChildNodes())?Object(s.hydrate)(M,D):Object(s.render)(M,D)}},[[22,1,2]]]);
//# sourceMappingURL=main.6cf0990d.chunk.js.map