{"version":3,"sources":["services/formulas.ts","utils/converters.ts","components/CompoundInterest/index.tsx","components/AddAccountModal.tsx","services/AccountService.ts","components/AddEntryModal.tsx","components/FileOptionMenu.tsx","components/IndividualGrowthGraph.tsx","icons/DeleteIcon.tsx","components/Cell.tsx","components/Table.tsx","features/AccountOverview.tsx","utils/githubAuth.ts","features/login/LoginState.tsx","App.tsx","index.tsx"],"names":["FV","P","A","r","year","n","rate","ratePerPaymentPeriod","nper","Math","pow","p","parseNumber","value","Number","parseFloat","toString","replace","currencyFormatter","Intl","NumberFormat","style","currency","CompoundInterest","useState","data","setData","useForm","register","handleSubmit","errors","formState","onSubmit","d","className","customInput","Input","thousandSeparator","label","placeholder","inputMode","errorMessage","existingAmount","message","required","interestRate","investmentPeriod","interestAccural","monthlyDeposit","type","formatter","CalculationSummary","props","useMemo","isWithDeposits","balance","totalDeposits","totalInterest","amount","color","Array","keys","map","deposit","totalDeposit","totalBalance","lastYear","depositPrevious","balancePrevious","interest","format","AmountSummary","AddAccount","addAccount","showPrompt","setShowPrompt","close","useCallback","onClick","x","isOpen","onDismiss","account","console","log","name","buttonType","AccountContext","createContext","state","accounts","entries","dispatch","_","accountReducer","action","newState","concat","date","key","unordered","Object","sort","reduce","obj","warn","JSON","stringify","reducer","localStorage","setItem","initAccountState","defaultValue","getItem","undefined","parse","getData","AddEntryModal","memo","useContext","setIsOpen","dismiss","displayName","FileOptionMenu","closeFile","save","blob","Blob","filename","Date","toISOString","slice","saveAs","fileChange","e","a","files","target","length","file","text","onChange","IndividualGrowthGraph","lineColors","colors","amber","blueGray","green","pink","yellow","rose","purple","sky","indigo","ParentSize","parent","margin","width","xMax","yMax","xScale","scaleTime","range","domain","extent","yMaxValue","max","yScale","scaleLinear","nice","axisFormat","tickFormat","labelColor","cyan","legendScale","scaleOrdinal","i","height","Group","top","left","AxisLeft","scale","numTicks","strokeWidth","stroke","tickLabelProps","fill","textAnchor","verticalAnchor","AxisBottom","labelFormat","toUpperCase","labels","LegendItem","LegendLabel","align","AccountLine","compose","accessor","xCompose","yCompose","LinePath","y","curve","curveLinear","DeleteIcon","xmlns","viewBox","strokeLinecap","strokeLinejoin","strokeMiterlimit","Cell","entry","entryRef","useRef","onBlur","element","currentTarget","innerText","NaN","contentEditable","ref","Table","totals","filterAndSum","gain","total","totalCash","totalInvested","filter","acc","AccountOverview","useReducer","Provider","dotenv","config","authCors","process","localStorageUserKey","sessionStorageGithubAuthStateKey","useGithubUser","user","setUser","storedState","sessionStorage","chars","charAt","floor","random","randomString","url","logout","removeItem","useEffect","Promise","resolve","content","getUserFromLocalStorage","params","URLSearchParams","window","location","search","has","get","code","fetch","method","headers","Accept","then","res","json","body","getUserFromGithub","access_token","history","replaceState","document","title","pathname","catch","err","debug","getUser","authorizeUrl","token","Authorization","LoginState","href","login","src","avatar_url","alt","loading","App","useDarkModeWithClass","isDarkMode","setDarkMode","darkMode","onToggle","id","rootElement","getElementById","Application","StrictMode","hasChildNodes","hydrate","render"],"mappings":"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","file":"static/js/main.3b4e0e41.chunk.js","sourcesContent":["export type InterestAccrual = 'Yearly' | 'Monthly';\n\nexport function FV(P: number, A: number, r: number, year: number, n = 12): number {\n\tconst rate = ratePerPaymentPeriod(r, 1, n);\n\tconst nper = n * year;\n\treturn P * Math.pow(1 + rate, nper) + A * ((Math.pow(1 + rate, nper) - 1) / rate);\n}\n\nexport function compoundInterest(\n\tprincipal: number,\n\tinterestRate: number,\n\ttime: number,\n\tinterestAccrual: InterestAccrual\n): number {\n\tconst n = getInterestAccrualPerYear(interestAccrual);\n\treturn principal * Math.pow(1 + interestRate / n, n * time);\n}\n\nexport function futureValue(\n\tregularDeposit: number,\n\tinterestRate: number,\n\ttime: number,\n\tinterestAccrual: InterestAccrual,\n\tnumberOfDeposits: number,\n\tdepositsMadeAt: 'beginning' | 'end' = 'end'\n): number {\n\tconst n = getInterestAccrualPerYear(interestAccrual);\n\n\treturn (\n\t\tregularDeposit *\n\t\tnumberOfDeposits *\n\t\t(((Math.pow(1 + interestRate / n, n * time) - 1) / (interestRate / n)) *\n\t\t\t(depositsMadeAt === 'end' ? 1 : 1 + interestRate / n))\n\t);\n}\n\nexport function ratePerPaymentPeriod(r: number, n: number, p: number): number {\n\treturn Math.pow(1 + r / n, n / p) - 1;\n}\n\nfunction getInterestAccrualPerYear(interestAccrual: InterestAccrual): number {\n\tswitch (interestAccrual) {\n\t\tcase 'Monthly':\n\t\t\treturn 12;\n\n\t\tcase 'Yearly':\n\t\tdefault:\n\t\t\treturn 1;\n\t}\n}\n","// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\nexport function parseNumber(value: any): number {\n\treturn Number.parseFloat(value.toString().replace(/[,a-zA-Z]/g, ''));\n}\n\nexport const currencyFormatter = Intl.NumberFormat('en-US', {\n\tstyle: 'currency',\n\tcurrency: 'DKK',\n});\n\nexport function sortObject<T>(unordered: T): T {\n\treturn (\n\t\tObject.keys(unordered)\n\t\t\t.sort()\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t.reduce((obj: { [key: string]: any }, key) => {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\tobj[key] = (unordered as any)[key];\n\t\t\t\treturn obj;\n\t\t\t}, {}) as T\n\t);\n}\n","import { Button, Input } from '@oliverflecke/components-react';\nimport React, { FC, useMemo, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport NumberFormat from 'react-number-format';\nimport { FV, InterestAccrual } from '../../services/formulas';\nimport { parseNumber } from '../../utils/converters';\n\ninterface CompoundInterestProps {\n\tname?: string;\n}\n\ntype FormData = {\n\texistingAmount: number;\n\tinterestRate: number;\n\tinvestmentPeriod: number;\n\tinterestAccural: InterestAccrual;\n\tmonthlyDeposit: number;\n};\n\nconst CompoundInterest: FC<CompoundInterestProps> = ({}: CompoundInterestProps) => {\n\tconst [data, setData] = useState<FormData | null>(null);\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t} = useForm<FormData>({});\n\tconst onSubmit = handleSubmit((d) => setData(d));\n\n\treturn (\n\t\t<>\n\t\t\t<form onSubmit={onSubmit} className=\"w-full flex flex-col items-center justify-center\">\n\t\t\t\t<fieldset className=\"flex flex-col items-center space-y-6 sm:space-y-0 sm:grid sm:grid-cols-3 sm:gap-6\">\n\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\tcustomInput={Input}\n\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\tlabel=\"Existing amount\"\n\t\t\t\t\t\tplaceholder=\"20,000\"\n\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\terrorMessage={errors.existingAmount?.message}\n\t\t\t\t\t\t{...register('existingAmount', { required: true })}\n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tlabel=\"Expected yearly growth\"\n\t\t\t\t\t\tplaceholder=\"7\"\n\t\t\t\t\t\terrorMessage={errors.interestRate && 'Please provide a valid value'}\n\t\t\t\t\t\t{...register('interestRate', {\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tlabel=\"Investment period\"\n\t\t\t\t\t\tplaceholder=\"10\"\n\t\t\t\t\t\terrorMessage={\n\t\t\t\t\t\t\terrors.investmentPeriod && 'Please provide a number of years you are investing'\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{...register('investmentPeriod', { required: true })}\n\t\t\t\t\t/>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tlabel=\"Interval of interest accrual\"\n\t\t\t\t\t\tplaceholder=\"Yearly\"\n\t\t\t\t\t\terrorMessage={errors.interestAccural?.message}\n\t\t\t\t\t\t{...register('interestAccural', { required: true })}\n\t\t\t\t\t/>\n\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\tcustomInput={Input}\n\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\tlabel=\"Monthly deposit\"\n\t\t\t\t\t\tplaceholder=\"10,000\"\n\t\t\t\t\t\tinputMode=\"numeric\"\n\t\t\t\t\t\terrorMessage={errors.monthlyDeposit?.message}\n\t\t\t\t\t\t{...register('monthlyDeposit', { required: true })}\n\t\t\t\t\t/>\n\t\t\t\t</fieldset>\n\t\t\t\t<div className=\"w-full pt-4 flex justify-center\">\n\t\t\t\t\t<Button type=\"submit\">Calculate</Button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t\t{data && (\n\t\t\t\t<CalculationSummary\n\t\t\t\t\texistingAmount={parseNumber(data.existingAmount)}\n\t\t\t\t\tinterestRate={parseNumber(data.interestRate)}\n\t\t\t\t\tinvestmentPeriod={parseNumber(data.investmentPeriod)}\n\t\t\t\t\tmonthlyDeposit={parseNumber(data.monthlyDeposit)}\n\t\t\t\t\tinterestAccural={data.interestAccural}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default CompoundInterest;\n\nconst formatter = Intl.NumberFormat('en-US', {\n\tstyle: 'currency',\n\tcurrency: 'DKK',\n});\n\nconst CalculationSummary = (props: FormData) => {\n\tconst r = useMemo(() => props.interestRate / 100, [props.interestRate]);\n\tconst isWithDeposits = useMemo(() => props.monthlyDeposit !== 0, [props.monthlyDeposit]);\n\n\tconst balance = FV(props.existingAmount, props.monthlyDeposit, r, props.investmentPeriod);\n\tconst totalDeposits = 12 * props.monthlyDeposit * props.investmentPeriod + props.existingAmount;\n\tconst totalInterest = balance - totalDeposits;\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"w-full flex flex-col items-center\">\n\t\t\t\t<div className=\"max-w-2xl w-full grid grid-cols-1 gap-y-4 gap-x-8 md:grid-cols-2 justify-center p-8\">\n\t\t\t\t\t<AmountSummary\n\t\t\t\t\t\tamount={balance}\n\t\t\t\t\t\tlabel={`Balance after ${props.investmentPeriod} years`}\n\t\t\t\t\t\tcolor=\"bg-blue-900 dark:bg-blue-300\"\n\t\t\t\t\t/>\n\t\t\t\t\t<AmountSummary\n\t\t\t\t\t\tamount={props.existingAmount}\n\t\t\t\t\t\tlabel={`Initial amount`}\n\t\t\t\t\t\tcolor=\"bg-green-900 dark:bg-green-300\"\n\t\t\t\t\t/>\n\t\t\t\t\t<AmountSummary\n\t\t\t\t\t\tamount={totalDeposits}\n\t\t\t\t\t\tlabel={`Total deposits`}\n\t\t\t\t\t\tcolor=\"bg-indigo-900 dark:bg-indigo-300\"\n\t\t\t\t\t/>\n\t\t\t\t\t<AmountSummary\n\t\t\t\t\t\tamount={totalInterest}\n\t\t\t\t\t\tlabel={'Gain from interest'}\n\t\t\t\t\t\tcolor=\"bg-yellow-900 dark:bg-yellow-300\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"overflow-x-scroll -mx-4 lg:overflow-x-auto lg:w-full lg:m-0\">\n\t\t\t\t<table className=\"w-full\">\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<tr className=\"text-right\">\n\t\t\t\t\t\t\t<th className=\"text-center\">Year</th>\n\t\t\t\t\t\t\t{isWithDeposits && <th>Deposit</th>}\n\t\t\t\t\t\t\t<th className=\"text-green-800 dark:text-green-400\">Interest</th>\n\t\t\t\t\t\t\t{isWithDeposits && <th>Total deposits</th>}\n\t\t\t\t\t\t\t<th className=\"text-purple-800 dark:text-purple-400\">Total interest</th>\n\t\t\t\t\t\t\t<th className=\"text-red-800 dark:text-red-400\">Balance</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody className=\"text-right font-mono\">\n\t\t\t\t\t\t{[...Array(props.investmentPeriod + 1).keys()].map((year) => {\n\t\t\t\t\t\t\tconst deposit = year === 0 ? props.existingAmount : 12 * props.monthlyDeposit;\n\t\t\t\t\t\t\tconst totalDeposit = year * 12 * props.monthlyDeposit + props.existingAmount;\n\t\t\t\t\t\t\tconst totalBalance = FV(props.existingAmount, props.monthlyDeposit, r, year);\n\t\t\t\t\t\t\tconst lastYear = year - 1;\n\n\t\t\t\t\t\t\tconst depositPrevious = lastYear * 12 * props.monthlyDeposit + props.existingAmount;\n\t\t\t\t\t\t\tconst balancePrevious = FV(props.existingAmount, props.monthlyDeposit, r, lastYear);\n\n\t\t\t\t\t\t\tconst totalInterest = totalBalance - totalDeposit;\n\t\t\t\t\t\t\tconst interest = year === 0 ? 0 : totalInterest - (balancePrevious - depositPrevious);\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<tr key={year} className=\"odd:bg-warmGray-200 dark:odd:bg-warmGray-900\">\n\t\t\t\t\t\t\t\t\t<td className=\"text-center\">{year}</td>\n\t\t\t\t\t\t\t\t\t{isWithDeposits && <td>{formatter.format(deposit)}</td>}\n\t\t\t\t\t\t\t\t\t<td>{formatter.format(interest)}</td>\n\t\t\t\t\t\t\t\t\t{isWithDeposits && <td>{formatter.format(totalDeposit)}</td>}\n\t\t\t\t\t\t\t\t\t<td>{formatter.format(totalInterest)}</td>\n\t\t\t\t\t\t\t\t\t<td>{formatter.format(totalBalance)}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\ntype AmountSummaryProps = {\n\tamount: number;\n\tlabel: string;\n\tcolor?: string;\n};\nconst AmountSummary: FC<AmountSummaryProps> = ({ amount, label, color }: AmountSummaryProps) => (\n\t<div className=\"flex space-x-4\">\n\t\t<div className={`w-6 h-6 rounded-full ${color}`}></div>\n\t\t<div>\n\t\t\t<span className=\"text-black dark:text-warmGray-300\">{label}</span>\n\t\t\t<div className=\"text-black dark:text-white text-2xl\">{formatter.format(amount)}</div>\n\t\t</div>\n\t</div>\n);\n","import { Button, ButtonContainer, Input, Modal } from '@oliverflecke/components-react';\nimport React, { FC, useCallback, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Account } from '../models/Account';\n\ninterface AddAccountProps {\n\taddAccount: (account: Account) => void;\n}\n\nconst AddAccount: FC<AddAccountProps> = ({ addAccount }: AddAccountProps) => {\n\tconst [showPrompt, setShowPrompt] = useState(false);\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors },\n\t} = useForm<Account>();\n\tconst close = useCallback(() => setShowPrompt(false), [setShowPrompt]);\n\tconst onSubmit = (account: Account) => {\n\t\tconsole.log(`Adding account: ${account}`);\n\t\taddAccount(account);\n\t\tclose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button onClick={() => setShowPrompt((x) => !x)}>Add account</Button>\n\t\t\t<Modal isOpen={showPrompt} onDismiss={close}>\n\t\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t\t<div className=\"p-4\">\n\t\t\t\t\t\t<h2 className=\"text-lg text-gray-700 dark:text-gray-400\">Add new account</h2>\n\n\t\t\t\t\t\t<fieldset className=\"space-y-2\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tplaceholder=\"Savings, Investments...\"\n\t\t\t\t\t\t\t\tlabel=\"Name\"\n\t\t\t\t\t\t\t\t{...register('name', { required: true })}\n\t\t\t\t\t\t\t\terrorMessage={errors.name && 'Please provide a name for your account'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tplaceholder=\"Cash, Investment...\"\n\t\t\t\t\t\t\t\tlabel=\"Type\"\n\t\t\t\t\t\t\t\t{...register('type', { required: true })}\n\t\t\t\t\t\t\t\terrorMessage={errors.type && 'Please choose cash or investment'}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ButtonContainer>\n\t\t\t\t\t\t<Button buttonType=\"Transparent\" onClick={close}>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button type=\"submit\">Add</Button>\n\t\t\t\t\t</ButtonContainer>\n\t\t\t\t</form>\n\t\t\t</Modal>\n\t\t</>\n\t);\n};\n\nexport default AddAccount;\n","import { createContext } from 'react';\nimport { Account, AccountEntries } from '../models/Account';\nimport { sortObject } from '../utils/converters';\n\nexport const AccountContext = createContext({\n\tstate: {\n\t\taccounts: [] as Account[],\n\t\tentries: {} as AccountEntries,\n\t},\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n\tdispatch: (_: AccountAction) => {},\n});\n\nexport interface AccountState {\n\taccounts: Account[];\n\tentries: AccountEntries;\n}\n\nfunction getDefaultAccountState(): AccountState {\n\treturn {\n\t\taccounts: [],\n\t\tentries: {},\n\t};\n}\n\nexport function accountReducer(state: AccountState, action: AccountAction): AccountState {\n\tconsole.log(`Got action '${action.type}'`);\n\tconst newState = reducer(state, action);\n\n\tlocalStorage.setItem('account_state', JSON.stringify(newState));\n\n\treturn newState;\n}\nexport function initAccountState(): AccountState {\n\treturn getData('account_state', getDefaultAccountState());\n}\n\nexport type AccountAction =\n\t| { type: 'add account'; account: Account }\n\t| { type: 'add entry'; date: string }\n\t| { type: 'delete entry'; date: string }\n\t| { type: 'reset' }\n\t| { type: 'load state'; state: AccountState }\n\t| { type: 'edit entry for account'; name: string; value: number; key: string };\n\nfunction reducer(state: AccountState, action: AccountAction): AccountState {\n\tswitch (action.type) {\n\t\tcase 'reset':\n\t\t\treturn getDefaultAccountState();\n\t\tcase 'load state':\n\t\t\treturn action.state;\n\t\tcase 'add account':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccounts: state.accounts.concat(action.account),\n\t\t\t};\n\t\tcase 'add entry':\n\t\t\tstate.entries[action.date] = {};\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t};\n\t\tcase 'edit entry for account':\n\t\t\tstate.entries[action.key][action.name] = action.value;\n\t\t\tstate.entries = sortObject(state.entries);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t};\n\t\tcase 'delete entry':\n\t\t\tdelete state.entries[action.date];\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tentries: state.entries,\n\t\t\t};\n\n\t\tdefault:\n\t\t\tconsole.warn(`action type not handled: ${JSON.stringify(action)}`);\n\t\t\treturn state;\n\t}\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getData(key: string, defaultValue: any = {}): any {\n\tconst data = localStorage.getItem(key) ?? undefined;\n\treturn data === undefined || data === '' ? defaultValue : JSON.parse(data);\n}\n","import { Button, ButtonContainer, Input, Modal } from '@oliverflecke/components-react';\nimport React, { FC, memo, useCallback, useContext, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { AccountContext } from '../services/AccountService';\n\nconst AddEntryModal: FC = memo(() => {\n\tconst { dispatch } = useContext(AccountContext);\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst dismiss = useCallback(() => setIsOpen(false), [setIsOpen]);\n\n\tconst { register, handleSubmit } = useForm<{ date: string }>();\n\tconst onSubmit = handleSubmit(({ date }) => {\n\t\tdispatch({ type: 'add entry', date });\n\t\tdismiss();\n\t});\n\n\treturn (\n\t\t<>\n\t\t\t<Button buttonType=\"Primary\" onClick={() => setIsOpen(true)}>\n\t\t\t\tAdd entry\n\t\t\t</Button>\n\t\t\t<Modal isOpen={isOpen} onDismiss={dismiss}>\n\t\t\t\t<form onSubmit={onSubmit}>\n\t\t\t\t\t<div className=\"p-4\">\n\t\t\t\t\t\t<h2 className=\"text-lg text-gray-700 dark:text-gray-400\">Add new entry on date</h2>\n\t\t\t\t\t\t<Input type=\"date\" className=\"m-4\" {...register('date')} />\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ButtonContainer>\n\t\t\t\t\t\t<Button buttonType=\"Primary\" type=\"submit\">\n\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonContainer>\n\t\t\t\t</form>\n\t\t\t</Modal>\n\t\t</>\n\t);\n});\nAddEntryModal.displayName = 'AddEntryModal';\n\nexport default AddEntryModal;\n","import { saveAs } from 'file-saver';\nimport React, { useCallback, useContext } from 'react';\nimport { AccountContext } from '../services/AccountService';\n\nconst FileOptionMenu: React.FC = () => {\n\tconst { dispatch, state } = useContext(AccountContext);\n\n\tconst closeFile = useCallback(() => dispatch({ type: 'reset' }), [dispatch]);\n\tconst save = useCallback(() => {\n\t\tconst blob = new Blob([JSON.stringify(state)], {\n\t\t\ttype: 'text/plain;charset=utf-8',\n\t\t});\n\t\tconst filename = `finance_${new Date().toISOString().slice(0, 19)}.json`;\n\t\tsaveAs(blob, filename);\n\t}, [state]);\n\n\tconst fileChange = useCallback(\n\t\tasync (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t\tconst files = e.target.files;\n\t\t\tif (!files || files.length === 0) return;\n\n\t\t\tconst file = files[0];\n\t\t\tconst text = await file.text();\n\t\t\ttry {\n\t\t\t\tconst state = JSON.parse(text);\n\t\t\t\tdispatch({ type: 'load state', state });\n\t\t\t} catch {\n\t\t\t\tconsole.warn(`Unable to parse file ${file.name}`);\n\t\t\t}\n\t\t},\n\t\t[dispatch]\n\t);\n\n\treturn (\n\t\t<div className=\"flex justify-end space-x-4\">\n\t\t\t<button className=\"btn btn-primary max-h-12 max-w-12\" onClick={save}>\n\t\t\t\t{/* <SaveIcon /> */}\n\t\t\t\tSave\n\t\t\t</button>\n\t\t\t<input type=\"file\" onChange={fileChange} className=\"bg-blue-400 p-2 rounded\" />\n\t\t\t<button className=\"btn btn-secondary\" onClick={closeFile}>\n\t\t\t\tClose\n\t\t\t</button>\n\t\t</div>\n\t);\n};\nexport default FileOptionMenu;\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { AxisBottom, AxisLeft } from '@visx/axis';\nimport { curveLinear } from '@visx/curve';\nimport { Group } from '@visx/group';\nimport { LegendItem, LegendLabel, LegendOrdinal } from '@visx/legend';\nimport { ParentSize } from '@visx/responsive';\nimport { scaleLinear, scaleOrdinal, scaleTime, TimeDomain } from '@visx/scale';\nimport { LinePath } from '@visx/shape';\nimport { extent, max } from 'd3-array';\nimport { ScaleLinear, ScaleTime, tickFormat } from 'd3-scale';\nimport { Account, DateEntry } from 'models/Account';\nimport React, { FC, useContext } from 'react';\nimport { AccountContext } from 'services/AccountService';\nimport colors from 'tailwindcss/colors';\n\nconst IndividualGrowthGraph: FC = () => {\n\tconst { state } = useContext(AccountContext);\n\tconst data = Object.keys(state.entries).map((x) => ({\n\t\tdate: x,\n\t\tvalue: state.entries[x],\n\t}));\n\n\tconst lineColors = [\n\t\tcolors.amber,\n\t\tcolors.blueGray,\n\t\tcolors.green,\n\t\tcolors.pink,\n\t\tcolors.yellow,\n\t\tcolors.rose,\n\t\tcolors.purple,\n\t\tcolors.sky,\n\t\tcolors.indigo,\n\t];\n\n\treturn (\n\t\t<ParentSize>\n\t\t\t{(parent) => {\n\t\t\t\tconst margin = { top: 24, bottom: 24, left: 24, right: 24 };\n\t\t\t\tconst xAxisHeight = 20;\n\t\t\t\tconst width = parent.width;\n\t\t\t\tconst height = 300;\n\n\t\t\t\t// Then we'll create some bounds\n\t\t\t\tconst xMax = width - margin.left - margin.right;\n\t\t\t\tconst yMax = height - margin.top - margin.bottom - xAxisHeight;\n\n\t\t\t\tconst x = (d: any) => new Date(d.date);\n\n\t\t\t\tconst xScale = scaleTime({\n\t\t\t\t\trange: [0, xMax],\n\t\t\t\t\tdomain: extent(data, x) as TimeDomain,\n\t\t\t\t});\n\n\t\t\t\tconst yMaxValue = max(\n\t\t\t\t\tdata.map((x) => max(state.accounts.map((a) => x.value[a.name])) ?? 0) ?? 0\n\t\t\t\t);\n\t\t\t\tconst yScale = scaleLinear({\n\t\t\t\t\trange: [yMax, 0],\n\t\t\t\t\tdomain: [0, yMaxValue ?? 0],\n\t\t\t\t\tnice: true,\n\t\t\t\t});\n\n\t\t\t\tconst axisFormat = tickFormat(0, yMaxValue ?? 0, 10, '~s');\n\t\t\t\tconst labelColor = colors.cyan[500];\n\n\t\t\t\tconst legendScale = scaleOrdinal({\n\t\t\t\t\tdomain: state.accounts.map((x) => x.name),\n\t\t\t\t\trange: state.accounts.map((_, i) => lineColors[i][500]),\n\t\t\t\t});\n\t\t\t\tconst legendGlyphSize = 15;\n\n\t\t\t\treturn (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<svg width={width} height={height}>\n\t\t\t\t\t\t\t<Group top={25} left={65}>\n\t\t\t\t\t\t\t\t<AxisLeft\n\t\t\t\t\t\t\t\t\tscale={yScale}\n\t\t\t\t\t\t\t\t\tnumTicks={10}\n\t\t\t\t\t\t\t\t\tstrokeWidth={1}\n\t\t\t\t\t\t\t\t\ttickFormat={axisFormat}\n\t\t\t\t\t\t\t\t\tstroke={labelColor}\n\t\t\t\t\t\t\t\t\ttickLabelProps={() => ({\n\t\t\t\t\t\t\t\t\t\tfill: labelColor,\n\t\t\t\t\t\t\t\t\t\ttextAnchor: 'end',\n\t\t\t\t\t\t\t\t\t\tverticalAnchor: 'middle',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<AxisBottom\n\t\t\t\t\t\t\t\t\ttop={yMax}\n\t\t\t\t\t\t\t\t\tleft={0}\n\t\t\t\t\t\t\t\t\tnumTicks={4}\n\t\t\t\t\t\t\t\t\tscale={xScale}\n\t\t\t\t\t\t\t\t\tstroke={'transparent'}\n\t\t\t\t\t\t\t\t\ttickLabelProps={() => ({\n\t\t\t\t\t\t\t\t\t\tfill: labelColor,\n\t\t\t\t\t\t\t\t\t\ttextAnchor: 'middle',\n\t\t\t\t\t\t\t\t\t\tverticalAnchor: 'middle',\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t{state.accounts.map((account, i) => (\n\t\t\t\t\t\t\t\t\t<AccountLine\n\t\t\t\t\t\t\t\t\t\tkey={account.name}\n\t\t\t\t\t\t\t\t\t\taccount={account}\n\t\t\t\t\t\t\t\t\t\tcolor={lineColors[i][500]}\n\t\t\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\t\t\t\t\tyScale={yScale}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</Group>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<LegendOrdinal scale={legendScale} labelFormat={(label) => `${label.toUpperCase()}`}>\n\t\t\t\t\t\t\t{(labels) => (\n\t\t\t\t\t\t\t\t<div className=\"flex flex-row flex-wrap\">\n\t\t\t\t\t\t\t\t\t{labels.map((label, i) => (\n\t\t\t\t\t\t\t\t\t\t<LegendItem key={`legend-quantile-${i}`} margin=\"0 5px\">\n\t\t\t\t\t\t\t\t\t\t\t<svg width={legendGlyphSize} height={legendGlyphSize}>\n\t\t\t\t\t\t\t\t\t\t\t\t<rect fill={label.value} width={legendGlyphSize} height={legendGlyphSize} />\n\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t<LegendLabel align=\"left\" margin=\"0 0 0 4px\">\n\t\t\t\t\t\t\t\t\t\t\t\t{label.text}\n\t\t\t\t\t\t\t\t\t\t\t</LegendLabel>\n\t\t\t\t\t\t\t\t\t\t</LegendItem>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</LegendOrdinal>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t}}\n\t\t</ParentSize>\n\t);\n};\n\nexport default IndividualGrowthGraph;\n\ninterface AccountLineProps {\n\taccount: Account;\n\tcolor: string;\n\tdata: { date: string; value: DateEntry }[];\n\tyScale: ScaleLinear<number, number, never>;\n\txScale: ScaleTime<number, number, never>;\n}\n\nconst AccountLine = ({ account, color, data, yScale, xScale }: AccountLineProps) => {\n\tconst x = (d: any) => new Date(d.date);\n\tconst y = (d: any) => d.value[account.name];\n\n\tconst compose = (scale: any, accessor: any) => (data: any) => scale(accessor(data));\n\tconst xCompose = compose(xScale, x);\n\tconst yCompose = compose(yScale, y);\n\n\tconst xPoint = (d: any) => xCompose(d) ?? 0;\n\tconst yPoint = (d: any) => yCompose(d) ?? 0;\n\n\treturn (\n\t\t<LinePath\n\t\t\tdata={data}\n\t\t\tx={xPoint}\n\t\t\ty={yPoint}\n\t\t\tstrokeWidth={1.5}\n\t\t\tstroke={color}\n\t\t\tcurve={curveLinear}\n\t\t/>\n\t);\n};\n","import React, { FC } from 'react';\n\nconst DeleteIcon: FC = () => (\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n\t\t<title>Trash</title>\n\t\t<path\n\t\t\td=\"M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320\"\n\t\t\tfill=\"none\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeLinecap=\"round\"\n\t\t\tstrokeLinejoin=\"round\"\n\t\t\tstrokeWidth=\"32\"\n\t\t/>\n\t\t<path\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeLinecap=\"round\"\n\t\t\tstrokeMiterlimit=\"10\"\n\t\t\tstrokeWidth=\"32\"\n\t\t\td=\"M80 112h352\"\n\t\t/>\n\t\t<path\n\t\t\td=\"M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224\"\n\t\t\tfill=\"none\"\n\t\t\tstroke=\"currentColor\"\n\t\t\tstrokeLinecap=\"round\"\n\t\t\tstrokeLinejoin=\"round\"\n\t\t\tstrokeWidth=\"32\"\n\t\t/>\n\t</svg>\n);\n\nexport default DeleteIcon;\n","import React, { FC, useCallback, useContext, useRef } from 'react';\nimport { Account, DateEntry } from '../models/Account';\nimport { AccountContext } from '../services/AccountService';\nimport { currencyFormatter, parseNumber } from '../utils/converters';\n\ninterface CellProps {\n\taccount: Account;\n\tentry: DateEntry;\n\tdate: string;\n}\n\nconst Cell: FC<CellProps> = ({ account, entry, date }: CellProps) => {\n\tconst { dispatch } = useContext(AccountContext);\n\tconst entryRef = useRef<HTMLTableDataCellElement>(null);\n\tconst onBlur = useCallback(\n\t\t(element: React.FormEvent<HTMLTableDataCellElement>) => {\n\t\t\tconst amount = parseNumber(element.currentTarget.innerText);\n\t\t\tif (amount !== NaN) {\n\t\t\t\tconsole.log(`Got amount ${amount}`);\n\t\t\t\tdispatch({ type: 'edit entry for account', name: account.name, key: date, value: amount });\n\t\t\t}\n\t\t},\n\t\t[account.name, date, dispatch]\n\t);\n\n\tconst value = currencyFormatter.format(entry[account.name] ?? 0);\n\n\treturn (\n\t\t<td\n\t\t\tkey={account.name}\n\t\t\tcontentEditable\n\t\t\tref={entryRef}\n\t\t\tonBlur={onBlur}\n\t\t\tclassName=\"px-2 text-right\"\n\t\t>\n\t\t\t{value}\n\t\t</td>\n\t);\n};\n\nexport default Cell;\n","import React, { FC, useContext } from 'react';\nimport DeleteIcon from 'icons/DeleteIcon';\nimport { Account, AccountEntries } from 'models/Account';\nimport { AccountContext } from 'services/AccountService';\nimport { currencyFormatter } from 'utils/converters';\nimport Cell from './Cell';\n\ninterface TableProps {\n\taccounts: Account[];\n\tentries: AccountEntries;\n}\n\nconst Table: FC<TableProps> = ({ accounts, entries }: TableProps) => {\n\tconst { dispatch } = useContext(AccountContext);\n\tconst totals = Object.keys(entries).map((date) => filterAndSum(accounts, entries, date));\n\n\treturn (\n\t\t<div className=\"h-full overflow-x-auto pb-4\">\n\t\t\t<table className=\"w-full\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr className=\"text-right whitespace-nowrap\">\n\t\t\t\t\t\t<th className=\"text-center\">Date</th>\n\t\t\t\t\t\t<th className=\"text-green-700 dark:text-green-500\">Gain</th>\n\t\t\t\t\t\t<th className=\"text-blue-700 dark:text-blue-500\">Total</th>\n\t\t\t\t\t\t<th className=\"text-yellow-700 dark:text-yellow-500\">Total cash</th>\n\t\t\t\t\t\t<th className=\"text-purple-700 dark:text-purple-500\">Total investments</th>\n\t\t\t\t\t\t{accounts.map((account) => (\n\t\t\t\t\t\t\t<th key={account.name}>\n\t\t\t\t\t\t\t\t<span>{account.name}</span>\n\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<th></th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{Object.keys(entries).map((date, i) => {\n\t\t\t\t\t\tconst gain = i === 0 ? 0 : totals[i] - totals[i - 1];\n\t\t\t\t\t\tconst total = totals[i];\n\t\t\t\t\t\tconst totalCash = filterAndSum(accounts, entries, date, (x) => x.type === 'Cash');\n\t\t\t\t\t\tconst totalInvested = filterAndSum(\n\t\t\t\t\t\t\taccounts,\n\t\t\t\t\t\t\tentries,\n\t\t\t\t\t\t\tdate,\n\t\t\t\t\t\t\t(x) => x.type === 'Investment'\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\tkey={date}\n\t\t\t\t\t\t\t\tclassName=\"odd:bg-gray-300 dark:odd:bg-warmGray-800 text-right whitespace-nowrap font-mono\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<td className=\"text-center\">{date}</td>\n\t\t\t\t\t\t\t\t<td className=\"text-green-700 dark:text-green-500\">\n\t\t\t\t\t\t\t\t\t{currencyFormatter.format(gain)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-blue-700 dark:text-blue-500\">\n\t\t\t\t\t\t\t\t\t{currencyFormatter.format(total)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-yellow-700 dark:text-yellow-500\">\n\t\t\t\t\t\t\t\t\t{currencyFormatter.format(totalCash)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td className=\"text-purple-700 dark:text-purple-500\">\n\t\t\t\t\t\t\t\t\t{currencyFormatter.format(totalInvested)}\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t{accounts.map((account) => (\n\t\t\t\t\t\t\t\t\t<Cell key={account.name} account={account} entry={entries[date]} date={date} />\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => dispatch({ type: 'delete entry', date: date })}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex h-6 w-6 text-red-700 dark:text-red-500 focus:outline-none\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t);\n};\n\nexport default Table;\n\nfunction filterAndSum(\n\taccounts: Account[],\n\tentries: AccountEntries,\n\tdate: string,\n\tfilter: (account: Account) => boolean = () => true\n): number {\n\treturn accounts\n\t\t.filter(filter)\n\t\t.map((x) => entries[date][x.name] ?? 0)\n\t\t.reduce((acc, x) => acc + x, 0);\n}\n","import AddAccount from 'components/AddAccountModal';\nimport AddEntryModal from 'components/AddEntryModal';\nimport FileOptionMenu from 'components/FileOptionMenu';\nimport IndividualGrowthGraph from 'components/IndividualGrowthGraph';\nimport Table from 'components/Table';\nimport React, { memo, useReducer } from 'react';\nimport { AccountContext, accountReducer, initAccountState } from 'services/AccountService';\n\nexport const AccountOverview = memo(() => {\n\tconst [state, dispatch] = useReducer(accountReducer, initAccountState());\n\n\treturn (\n\t\t<AccountContext.Provider value={{ state, dispatch }}>\n\t\t\t<Table accounts={state.accounts} entries={state.entries} />\n\t\t\t<div className=\"py-4 flex flex-row justify-between\">\n\t\t\t\t<AddAccount addAccount={(account) => dispatch({ type: 'add account', account })} />\n\t\t\t\t<AddEntryModal />\n\t\t\t</div>\n\t\t\t<FileOptionMenu />\n\t\t\t<IndividualGrowthGraph />\n\t\t</AccountContext.Provider>\n\t);\n});\nAccountOverview.displayName = 'AccountOverview';\n","import dotenv from 'dotenv';\nimport { useCallback, useEffect, useMemo, useState } from 'react';\ndotenv.config();\n\nexport const authorizeUrl = 'https://github.com/login/oauth/authorize';\nconst authCors = process.env.REACT_APP_CORS_AUTH_URL;\nconst client_id = process.env.REACT_APP_CLIENT_ID;\nconst localStorageUserKey = 'github_user';\nconst sessionStorageGithubAuthStateKey = 'github_auth_state';\n\nexport interface User {\n\tid: number;\n\tavatar_url: string;\n\tbio: string | null;\n\tblog: string | null;\n\temail: string | null;\n\thtml_url: string | null;\n\tname: string | null;\n\tlogin: string | null;\n}\n\ninterface AuthorizeResponse {\n\taccess_token: string;\n\tscopes: string;\n\ttoken_type: string;\n}\n\ninterface UseGithubUserHook {\n\tuser: User | null;\n\tauthorizeUrl: string;\n\tlogout: () => void;\n}\n\nexport function useGithubUser(): UseGithubUserHook {\n\tconst [user, setUser] = useState<User | null>(null);\n\n\tconst state = useSessionState(sessionStorageGithubAuthStateKey);\n\tconst url = `${authorizeUrl}?client_id=${client_id}&state=${state}`;\n\tconst logout = useCallback(() => {\n\t\tsetUser(null);\n\t\tlocalStorage.removeItem(localStorageUserKey);\n\t}, [setUser]);\n\n\tuseEffect(() => {\n\t\tgetUser(state).then(setUser);\n\t}, [state]);\n\n\treturn { user, authorizeUrl: url, logout };\n}\n\nexport function getUser(state: string): Promise<User | null> {\n\treturn new Promise<User | null>((resolve) => {\n\t\tconst user = getUserFromLocalStorage();\n\t\tif (user) {\n\t\t\tresolve(user);\n\t\t\treturn;\n\t\t}\n\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\tif (!params.has('code')) {\n\t\t\tresolve(null);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!params.has('state') || params.get('state') !== state) {\n\t\t\tresolve(null);\n\t\t\treturn;\n\t\t}\n\n\t\tsessionStorage.removeItem(sessionStorageGithubAuthStateKey);\n\t\tconst code = params.get('code');\n\n\t\tfetch(`${authCors}?code=${code}`, {\n\t\t\tmethod: 'post',\n\t\t\theaders: {\n\t\t\t\tAccept: 'application/json',\n\t\t\t},\n\t\t})\n\t\t\t.then(async (res) => {\n\t\t\t\tconst body: AuthorizeResponse = await res.json();\n\t\t\t\tconst user = await getUserFromGithub(body.access_token);\n\t\t\t\tlocalStorage.setItem(localStorageUserKey, JSON.stringify(user));\n\t\t\t\tresolve(user);\n\n\t\t\t\t// Remove query parameters from navigation bar\n\t\t\t\twindow.history.replaceState({}, document.title, window.location.pathname);\n\t\t\t})\n\t\t\t.catch((err) => console.debug(err));\n\t});\n}\n\nfunction getUserFromGithub(token: string): Promise<User> {\n\treturn fetch('https://api.github.com/user', {\n\t\theaders: {\n\t\t\tAuthorization: `token ${token}`,\n\t\t},\n\t}).then(async (res) => (await res.json()) as User);\n}\n\nfunction getUserFromLocalStorage(): User | null {\n\tconst content = localStorage.getItem(localStorageUserKey);\n\tif (!content) return null;\n\n\treturn JSON.parse(content);\n}\n\nfunction randomString(length: number): string {\n\tconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n\treturn new Array(length)\n\t\t.fill(null)\n\t\t.map(() => chars.charAt(Math.floor(Math.random() * chars.length)))\n\t\t.reduce((acc, x) => acc + x, '');\n}\n\nfunction useSessionState(key: string): string {\n\treturn useMemo(() => {\n\t\tconst storedState = sessionStorage.getItem(key);\n\t\tif (storedState) {\n\t\t\treturn storedState;\n\t\t}\n\n\t\tconst newState = randomString(32);\n\t\tsessionStorage.setItem(key, newState);\n\n\t\treturn newState;\n\t}, [key]);\n}\n","import React from 'react';\nimport { User } from 'utils/githubAuth';\n\ninterface LoginStateProps {\n\tuser: User | null;\n\tauthorizeUrl: string;\n\tlogout?: () => void;\n}\n\nconst LoginState: React.FC<LoginStateProps> = ({ user, authorizeUrl, logout }: LoginStateProps) => {\n\tif (user === null) {\n\t\treturn (\n\t\t\t<a className=\"btn btn-primary\" href={authorizeUrl}>\n\t\t\t\tLogin\n\t\t\t</a>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"flex items-center space-x-4\">\n\t\t\t<span className=\"hidden sm:inline\">{user.login}</span>\n\t\t\t<div className=\"group\">\n\t\t\t\t<img\n\t\t\t\t\tsrc={user.avatar_url}\n\t\t\t\t\talt=\"Avatar of the logged in user\"\n\t\t\t\t\tclassName=\"max-h-12 rounded-full\"\n\t\t\t\t\tloading=\"lazy\"\n\t\t\t\t/>\n\t\t\t\t<div className=\"hidden group-hover:block absolute rounded py-4 shadow bg-warmGray-100 dark:bg-warmGray-700\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={logout}\n\t\t\t\t\t\tclassName=\"btn hover:text-warmGray-900 dark:hover:text-warmGray-400 hover:underline\"\n\t\t\t\t\t>\n\t\t\t\t\t\tLogout\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default LoginState;\n","import { DarkModeToggle, useDarkModeWithClass } from '@oliverflecke/components-react';\nimport 'compiled.css';\nimport CompoundInterest from 'components/CompoundInterest';\nimport { AccountOverview } from 'features/AccountOverview';\nimport React from 'react';\nimport { useGithubUser } from 'utils/githubAuth';\nimport LoginState from 'features/login/LoginState';\n\nconst App: React.FC = () => {\n\tconst { isDarkMode, setDarkMode } = useDarkModeWithClass();\n\tconst { user, authorizeUrl, logout } = useGithubUser();\n\n\treturn (\n\t\t<main className=\"h-screen bg-white dark:bg-warmGray-900 text-gray-900 dark:text-gray-200\">\n\t\t\t<header className=\"p-2 flex flex-row justify-between text-gray-300 bg-emerald-900 \">\n\t\t\t\t<h1 className=\"p-4 text-xl uppercase font-sans font-light\">Finance tracker</h1>\n\t\t\t\t<div className=\"flex flex-row justify-center items-center\">\n\t\t\t\t\t<LoginState user={user} authorizeUrl={authorizeUrl} logout={logout} />\n\t\t\t\t\t<div className=\"p-4\">\n\t\t\t\t\t\t<DarkModeToggle darkMode={isDarkMode} onToggle={() => setDarkMode(!isDarkMode)} />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</header>\n\n\t\t\t<section id=\"account-overview\" className=\"p-4 dark:bg-warmGray-900\">\n\t\t\t\t<AccountOverview />\n\t\t\t</section>\n\n\t\t\t<section id=\"compound-interest\" className=\"p-4 dark:bg-warmGray-700\">\n\t\t\t\t<h2 className=\"text-xl py-4 text-center lg:text-left\">Compound interest calculator</h2>\n\t\t\t\t<CompoundInterest />\n\t\t\t</section>\n\t\t</main>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport { render, hydrate } from 'react-dom';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nconst rootElement = document.getElementById('root');\nconst Application = (\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>\n);\n\nif (rootElement?.hasChildNodes()) {\n\thydrate(Application, rootElement);\n} else {\n\trender(Application, rootElement);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}